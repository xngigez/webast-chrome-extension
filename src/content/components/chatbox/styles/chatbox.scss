@import './variables.scss';

// Main colors.
$theme-accent-color: #0288D1;

$chatbox-bg-color: rgba(243, 243, 243, 0.75);
$chatbox-blur: 2px;
$chatbox-height: 384px;
$chatbox-offset: 16px;
$chatbox-radius: 16px;
$chatbox-width: 520px;

$title-bar-height: 32px;
$handle-bar-height: 4px;

$icon-width: 24px;
$icon-color: #555;
$icon-hover-color: #fff;

$app-bar-menu-icon-width: 32px;
$app-bar-tokens-width: 200px;
$app-bar-actions-icon-width: 32px;

$menu-box-width: 277px;

.chatbox {
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.85), rgba(227, 242, 253, .85));
	border-radius: $chatbox-radius;
	bottom: $chatbox-offset;
	box-shadow: 2px 2px 8px rgba(0, 0, 0, .2);
	display: flex;
	height: $chatbox-height;
	flex-direction: column;
	overflow: hidden;
	padding: 0 16px 16px 16px;
	box-sizing: border-box;
	position: fixed;
	right: $chatbox-offset;
	width: $chatbox-width;
	backdrop-filter: blur($chatbox-blur) saturate(150%) brightness(120%) contrast(90%);
	z-index: 9999;

	.title-bar {
		align-items: center;
		// background-color: rgba(235, 235, 235, 0.75);
		display: flex;
		height: $title-bar-height;
		justify-content: space-between;
		padding: 0 12px;

		.handle {
			cursor: move;
			height: 100%;
			width: 100%;

			.handle-bar {
				background-color: #B6B6B6;
				border-radius: 2px;
				height: 4px;
				margin: ($title-bar-height - $handle-bar-height)/2 auto;
				transform: translateX(($icon-width * 3)/2);
				width: 48px;
			}
		}

		.icons {
			align-items: center;
			display: flex;

			.icon {
				background-color: transparent;
				border-radius: 50%;
				cursor: pointer;
				display: flex;
				height: 24px;
				justify-content: center;
				width: 24px;

				&:hover {
					background-color: rgba(0, 0, 0, 0.1);
				}

				svg {
					fill: $icon-color;
					stroke: $icon-color;

					&:hover {
						fill: $icon-hover-color;
						stroke: $icon-hover-color;
					}
				}
			}

			.maximize {
				background-color: #1C9BF6;
			}

			.minimize {
				background-color: #F7B500;
			}

			.close {
				// background-color: #F14E4E;
			}
		}
	}

	/*
	* App bar.
	*/
	.app-bar {
		align-items: center;
		display: flex;
		height: $title-bar-height;
		justify-content: space-between;

		.menu-action {
			cursor: pointer;
			display: flex;
			height: $app-bar-menu-icon-width;
			justify-content: center;
			margin: 0 8px 0 0;
			width: $app-bar-menu-icon-width;
			align-items: center;

			&:hover {
				background-color: rgba(0, 0, 0, 0.1);
			}

			svg {
				fill: $icon-color;
				stroke: $icon-color;
				vertical-align: middle;

				&:hover {
					fill: $theme-accent-color;
					stroke: $theme-accent-color;
				}
			}
		}

		.app-bar-title {
			font-weight: bold;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		.app-bar-tokens {
			font-size: 12px;
			overflow: hidden;
			text-align: right;
			text-overflow: ellipsis;
			width: $app-bar-tokens-width;
			white-space: nowrap;
		}

		.actions {
			align-items: center;
			display: flex;
			width: $app-bar-actions-icon-width * 2;

			.icon {
				background-color: transparent;
				border-radius: 50%;
				cursor: pointer;
				display: flex;
				height: $app-bar-actions-icon-width;
				justify-content: center;
				margin: 0 4px;
				width: $app-bar-actions-icon-width;

				&:hover {
					background-color: rgba(0, 0, 0, 0.1);
				}

				svg {
					fill: $icon-color;
					stroke: $icon-color;

					&:hover {
						fill: $icon-hover-color;
						stroke: $icon-hover-color;
					}
				}
			}
		}
	}

	.minimized-chatbox-icon {
		display: none;
	}

	.content {
		height: 100%;
		overflow: hidden;
		position: relative;

		.menu-box {
			background: linear-gradient(135deg, rgba(255, 255, 255, 0.85), rgba(227, 242, 253, .85));
			display: none;
			height: inherit;
			padding-right: 16px;
			position: absolute;
			width: $menu-box-width;
			z-index: 99999;
		}

		.menu-box-show {
			display: inherit;
		}
	}

	// Chatbox minimized.
	&.minimized {
		height: 64px;
		border-radius: 16px;
		bottom: $chatbox-offset;
		right: $chatbox-offset;
		transition: all 0.3s ease-in-out;
		width: 64px;

		.content,
		.title-bar,
		.app-bar {
			display: none;
		}

		.minimized-chatbox-icon {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 100%;
			height: 100%;

			svg {
				width: 32px;
				height: 32px;

				fill: $theme-accent-color;
				stroke: $theme-accent-color;

				&:hover {
					fill: $icon-hover-color;
				}
			}
		}
	}
}

/*
 * SVG
 */
// svg {
// 	stroke: $theme-light-font-color;
// }

/*
 * Fix to bottom of parent
 */
.fixed-bottom-center {
	bottom: $padding;
	left: 50%;
	position: absolute;
	text-align: center;
	transform: translateX(-50%);
}